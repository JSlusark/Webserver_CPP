listen 8080;
listen 8082;
listen 8085;

root www;

error_page 403 /error_pages/403.html; 
error_page 404 /error_pages/404.html;
error_page 405 /error_pages/405.html;
error_page 413 /error_pages/413.html;
error_page 500 /error_pages/500.html;
error_page 504 /error_pages/504.html;

client_max_body_size 1000000;

# Default root location
location / {
    root www;
    index index.html;
    autoindex off;
    methods GET;
}

# About page (optional but flexible)
#location /about {
#    root www;
#    index about.html;
#    autoindex off;
#    methods GET;
#}

#Upload HTML form page
location /upload {
    root www;
    index upload.html;
    autoindex off;
    methods GET POST;
    upload_dir www/uploads;
}


# CSS files
location /css {
    root www/css;
    methods GET;
}

# JS scripts
location /scripts {
    root www/scripts;
    autoindex off;
    methods GET;
}

# Images
location /images {
    root www/images;
    autoindex on;
    methods GET;
}

# CGI scripts
location /cgi-bin {
    cgi_extension .py .php;
    root www/cgi-bin;
    methods GET POST;
}

# Redirects
location /old {
    return 301 /;
}

location /home {
    return 301 /;
}

location /42 {
    return 301 https://42berlin.de/;
}
